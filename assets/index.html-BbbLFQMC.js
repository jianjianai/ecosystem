import{_ as c,a as r,b as i,c as p,d,e as m,f as h}from"./vercel-9-CQuaa9Fz.js";import{_ as u,r as n,o as _,c as g,b as e,d as t,a as o,w as v,e as s}from"./app-Du56uP9N.js";const y="/assets/leancloud-1-D6GvqV4-.png",f="/assets/leancloud-2-B5wKvXiY.png",b="/assets/leancloud-3-D7gbeXS0.png",k="/images/comment/vercel-1.png",x={},A=s(`<h1 id="waline" tabindex="-1"><a class="header-anchor" href="#waline"><span>Waline</span></a></h1><p>一个有后端的安全评论系统。</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">npm</span><span style="color:#CE9178;"> i</span><span style="color:#569CD6;"> -D</span><span style="color:#CE9178;"> @waline/client</span></span>
<span class="line"></span></code></pre></div><h2 id="leancloud-设置-数据库" tabindex="-1"><a class="header-anchor" href="#leancloud-设置-数据库"><span>LeanCloud 设置 (数据库)</span></a></h2>`,5),P={href:"https://console.leancloud.app/login",target:"_blank",rel:"noopener noreferrer"},E={href:"https://console.leancloud.app/register",target:"_blank",rel:"noopener noreferrer"},C=e("code",null,"LeanCloud 国际版",-1),D={href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"},L={href:"https://console.leancloud.app/apps",target:"_blank",rel:"noopener noreferrer"},V=e("p",null,[e("img",{src:y,alt:"创建应用"})],-1),j=s('<li><p>进入应用，选择左下角的 <code>设置</code> &gt; <code>应用 Key</code>。你可以看到你的 <code>APP ID</code>,<code>APP Key</code> 和 <code>Master Key</code>。请记录它们，以便后续使用。</p><p><img src="'+f+'" alt="ID 和 Key"></p></li>',1),N={class:"custom-container warning"},w=e("p",{class:"custom-container-title"},"国内版需要完成备案接入",-1),S={href:"https://leancloud.cn",target:"_blank",rel:"noopener noreferrer"},K={href:"https://leancloud.app",target:"_blank",rel:"noopener noreferrer"},I=e("strong",null,"已备案",-1),R=s('<ul><li>登录国内版并进入需要使用的应用</li><li>选择 <code>设置</code> &gt; <code>域名绑定</code> &gt; <code>API 访问域名</code> &gt; <code>绑定新域名</code> &gt; 输入域名 &gt; <code>确定</code>。</li><li>按照页面上的提示按要求在 DNS 上完成 CNAME 解析。</li><li>购买独立 IP 并提交工单完成备案接入。(独立 IP 目前价格为 ￥ 50/个/月)</li></ul><p><img src="'+b+'" alt="域名设置"></p>',2),M=e("h2",{id:"vercel-部署-服务端",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#vercel-部署-服务端"},[e("span",null,"Vercel 部署 (服务端)")])],-1),W={href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample",target:"_blank",rel:"noopener noreferrer"},F=e("img",{src:"https://vercel.com/button",alt:"Vercel"},null,-1),z=s('<ol><li><p>点击上方按钮，跳转至 Vercel 进行 Server 端部署。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>如果你未登录的话，Vercel 会让你注册或登录，请使用 GitHub 账户进行快捷登录。</p></div></li><li><p>输入一个你喜欢的 Vercel 项目名称并点击 <code>Create</code> 继续:</p><p><img src="'+k+'" alt="创建项目"></p></li><li><p>此时 Vercel 会基于 Waline 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名。</p><p><img src="'+c+'" alt="deploy"></p><p>一两分钟后，满屏的烟花会庆祝你部署成功。此时点击 <code>Go to Dashboard</code> 可以跳转到应用的控制台。</p><p><img src="'+r+'" alt="deploy"></p></li><li><p>点击顶部的 <code>Settings</code> - <code>Environment Variables</code> 进入环境变量配置页，并配置三个环境变量 <code>LEAN_ID</code>, <code>LEAN_KEY</code> 和 <code>LEAN_MASTER_KEY</code> 。它们的值分别对应上一步在 LeanCloud 中获得的 <code>APP ID</code>, <code>APP KEY</code>, <code>Master Key</code>。</p><p><img src="'+i+'" alt="设置环境变量"></p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>如果你使用 LeanCloud 国内版，请额外配置 <code>LEAN_SERVER</code> 环境变量，值为你绑定好的域名。</p></div></li><li><p>环境变量配置完成之后点击顶部的 <code>Deployments</code> 点击顶部最新的一次部署右侧的 <code>Redeploy</code> 按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。</p><p><img src="'+p+'" alt="redeploy"></p></li><li><p>此时会跳转到 <code>Overview</code> 界面开始部署，等待片刻后 <code>STATUS</code> 会变成 <code>Ready</code>。此时请点击 <code>Visit</code> ，即可跳转到部署好的网站地址，此地址即为你的服务端地址。</p><p><img src="'+d+'" alt="redeploy success"></p></li></ol><h2 id="绑定域名-可选" tabindex="-1"><a class="header-anchor" href="#绑定域名-可选"><span>绑定域名 (可选)</span></a></h2><ol><li><p>点击顶部的 <code>Settings</code> - <code>Domains</code> 进入域名配置页</p></li><li><p>输入需要绑定的域名并点击 <code>Add</code></p><p><img src="'+m+'" alt="Add domain"></p></li><li><p>在域名服务器商处添加新的 <code>CNAME</code> 解析记录</p><table><thead><tr><th>Type</th><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>CNAME</td><td>example</td><td>cname.vercel-dns.com</td></tr></tbody></table></li><li><p>等待生效，你可以通过自己的域名来访问了🎉</p><ul><li>评论系统：example.your-domain.com</li><li>评论管理：example.your-domain.com/ui</li></ul><p><img src="'+h+'" alt="success"></p></li></ol><h2 id="客户端" tabindex="-1"><a class="header-anchor" href="#客户端"><span>客户端</span></a></h2><h3 id="使用插件" tabindex="-1"><a class="header-anchor" href="#使用插件"><span>使用插件</span></a></h3><p>在插件选项中设置 <code>provider: &quot;Waline&quot;</code>，同时设置服务端地址 <code>serverURL</code> 为上一步获取到的值。</p><p>此时，将 <code>&lt;CommentService&gt;</code> 组件放置在你网站中合适的位置 (通常是页面的底部)，即可使用 Waline 评论功能。</p>',7),T={class:"custom-container tip"},B=e("p",{class:"custom-container-title"},"提示",-1),U=e("code",null,"el",-1),Y=e("h2",{id:"评论管理-管理端",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#评论管理-管理端"},[e("span",null,"评论管理 (管理端)")])],-1),q=e("ol",null,[e("li",null,[t("部署完成后，请访问 "),e("code",null,"<serverURL>/ui/register"),t(" 进行注册。首个注册的人会被设定成管理员。")]),e("li",null,"管理员登陆后，即可看到评论管理界面。在这里可以修改、标记或删除评论。"),e("li",null,"用户也可通过评论框注册账号，登陆后会跳转到自己的档案页。")],-1);function G(O,Z){const l=n("ExternalLinkIcon"),a=n("RouteLink");return _(),g("div",null,[A,e("ol",null,[e("li",null,[e("p",null,[e("a",P,[t("登录"),o(l)]),t(" 或 "),e("a",E,[t("注册"),o(l)]),t(),C,t(" 并进入 "),e("a",D,[t("控制台"),o(l)])])]),e("li",null,[e("p",null,[t("点击左上角 "),e("a",L,[t("创建应用"),o(l)]),t(" 并起一个你喜欢的名字 (请选择免费的开发版):")]),V]),j]),e("div",N,[w,e("p",null,[t("如果你正在使用 Leancloud 国内版 ("),e("a",S,[t("leancloud.cn"),o(l)]),t(")，我们推荐你切换到国际版 ("),e("a",K,[t("leancloud.app"),o(l)]),t(")。否则，你需要为应用额外绑定"),I,t("的域名，同时购买独立 IP 并完成备案接入:")]),R]),M,e("p",null,[e("a",W,[F,o(l)])]),z,e("div",T,[B,e("p",null,[t("你也可以传入其他 Waline 支持的选项 (除了 "),U,t(")。详情请见 "),o(a,{to:"/zh/plugins/comment/waline/config.html"},{default:v(()=>[t("Waline 配置")]),_:1})])]),Y,q])}const X=u(x,[["render",G],["__file","index.html.vue"]]),Q=JSON.parse('{"path":"/zh/plugins/comment/waline/","title":"Waline","lang":"zh-CN","frontmatter":{"description":"Waline 一个有后端的安全评论系统。 安装 LeanCloud 设置 (数据库) 登录 或 注册 LeanCloud 国际版 并进入 控制台 点击左上角 创建应用 并起一个你喜欢的名字 (请选择免费的开发版): 创建应用 进入应用，选择左下角的 设置 > 应用 Key。你可以看到你的 APP ID,APP Key 和 Master Key。请记录它...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://ecosystem.vuejs.press/plugins/comment/waline/"}],["meta",{"property":"og:url","content":"https://ecosystem.vuejs.press/zh/plugins/comment/waline/"}],["meta",{"property":"og:site_name","content":"VuePress 生态系统"}],["meta",{"property":"og:title","content":"Waline"}],["meta",{"property":"og:description","content":"Waline 一个有后端的安全评论系统。 安装 LeanCloud 设置 (数据库) 登录 或 注册 LeanCloud 国际版 并进入 控制台 点击左上角 创建应用 并起一个你喜欢的名字 (请选择免费的开发版): 创建应用 进入应用，选择左下角的 设置 > 应用 Key。你可以看到你的 APP ID,APP Key 和 Master Key。请记录它..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://vercel.com/button"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-05-06T14:54:39.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-06T14:54:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Waline\\",\\"image\\":[\\"https://vercel.com/button\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-1.png\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-3.png\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-4.png\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-5.png\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-6.png\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-7.png\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-8.png\\",\\"https://ecosystem.vuejs.press/images/comment/vercel-9.png\\"],\\"dateModified\\":\\"2024-05-06T14:54:39.000Z\\",\\"author\\":[]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://ecosystem.vuejs.press/zh/atom.xml","title":"VuePress 生态系统 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://ecosystem.vuejs.press/zh/feed.json","title":"VuePress 生态系统 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://ecosystem.vuejs.press/zh/rss.xml","title":"VuePress 生态系统 RSS Feed"}]]},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"LeanCloud 设置 (数据库)","slug":"leancloud-设置-数据库","link":"#leancloud-设置-数据库","children":[]},{"level":2,"title":"Vercel 部署 (服务端)","slug":"vercel-部署-服务端","link":"#vercel-部署-服务端","children":[]},{"level":2,"title":"绑定域名 (可选)","slug":"绑定域名-可选","link":"#绑定域名-可选","children":[]},{"level":2,"title":"客户端","slug":"客户端","link":"#客户端","children":[{"level":3,"title":"使用插件","slug":"使用插件","link":"#使用插件","children":[]}]},{"level":2,"title":"评论管理 (管理端)","slug":"评论管理-管理端","link":"#评论管理-管理端","children":[]}],"git":{"updatedTime":1715007279000,"contributors":[{"name":"Mr.Hope","email":"mister-hope@outlook.com","commits":2}]},"autoDesc":true,"filePathRelative":"zh/plugins/comment/waline/README.md"}');export{X as comp,Q as data};
